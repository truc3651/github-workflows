name: "Java Gradle Setup & Build"
description: "Sets up Java and Gradle environment and builds the project."

inputs:
  java_version:
    description: ""
    required: true
  java_distribution:
    description: ""
    required: true
  skip_tests:
    description: ""
    required: true

runs:
  using: "composite"
  steps:
    - uses: actions/setup-java@v4
      with:
        java-version: ${{ inputs.java_version }}
        distribution: ${{ inputs.java_distribution }}

    - uses: gradle/actions/setup-gradle@v3

    - name: Build with Gradle
      shell: bash
      run: |
        if [ "${{ inputs.skip_tests }}" = "true" ]; then
          ./gradlew build -x test
        else
          ./gradlew build
        fi
      env:
        USERNAME: ${{ github.actor }}
        TOKEN: ${{ github.token }}
